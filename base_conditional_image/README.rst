==================
Conditional Images
==================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:1387aa4f1748d4fe3eccc948fef4519ece699b139fa2231d42853f3d8f789dea
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fserver--tools-lightgray.png?logo=github
    :target: https://github.com/OCA/server-tools/tree/14.0/base_conditional_image
    :alt: OCA/server-tools
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/server-tools-14-0/server-tools-14-0-base_conditional_image
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/server-tools&target_branch=14.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This module extends the functionality of any model to support conditional images
(based on the record attributes) and to manage them either globally or by company.

The main goal behind this module is to avoid storing the same image multiple times.
For example, for every partner, there is a related image (most of the time, it's the default one).
With this module properly set up, it will be stored only one time and you can change it whenever you want for all partners.

**WARNING**: this module cannot be used on the same objects using the module `base_multi_image`.

**Table of contents**

.. contents::
   :local:

Installation
============

The sole purpose of this module is to add an abstract model to be inherited.
So, you will not notice any changes on install.

To develop using this module, you have to inherit the abstract model `conditional.image.consumer.mixin`
to the model that needs the conditional images::

    class ResPartner(models.Model):
        _inherit = ['res.partner', 'conditional.image.consumer.mixin']
        _name = 'res.partner'

Then, configure how the images will be selected for each record.


Note: When migrating from 14.0.1.0.0 to 14.0.2.0.0, please run the 'Resize conditional images'
scheduled actions to regenerate the different sizes of the image.

Usage
=====

Go to *Technical Settings > Settings > Conditional Images* to configure all the images.
You can define images for specific objects, depending on the attributes and the company of the object.

The `selector` should return a boolean expression. All fields of the object are available to compute the result.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/server-tools/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/server-tools/issues/new?body=module:%20base_conditional_image%0Aversion:%2014.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Camptocamp

Contributors
~~~~~~~~~~~~

* `Camptocamp <https://camptocamp.com/>`_:
    * Patrick Tombez <patrick.tombez@camptocamp.com>
    * Denis Leemann <denis.leemann@camptocamp.com>
    * Akim Juillerat <akim.juillerat@camptocamp.com>
    * St√©phane Mangin <stephane.mangin@camptocamp.com>
* `Trobz <https://trobz.com>`_:
    * Son Ho <sonhd@trobz.com>

Other credits
~~~~~~~~~~~~~

The migration of this module from 12.0 to 14.0 was financially supported by Camptocamp

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

This module is part of the `OCA/server-tools <https://github.com/OCA/server-tools/tree/14.0/base_conditional_image>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
