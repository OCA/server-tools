<?xml version="1.0" encoding="UTF-8"?>
<odoo>
        <record id="base_merge_wizard_form" model="ir.ui.view">
            <field name='name'>base.merge.wizard.form</field>
            <field name='model'>base.merge.wizard</field>
            <field name='arch' type='xml'>
                <form string='Merge Wizard'>
                    <sheet>
                        <separator string="Merge the following records"/>
                        <group col="1">
                            <p class="oe_grey">
                                Selected contacts will be merged together.
                                All documents linked to one of these contacts
                                will be redirected to the destination contact.
                                You can remove contacts from this list to avoid merging them.
                            </p>
                            <field name="model_id" nolabel="1"/>
                            <field name="target_id"/>
                            <field name="source_ids"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- add here a view for enabling launching the wizard -->
        <record id="base_merge_form" model="ir.ui.view">
            <field name='name'>base.merge.form</field>
            <field name='model'>base.merge.model</field>
            <field name='arch' type='xml'>
                <form string='Record merger config'>
                    <sheet>
                        <separator string="Pick a model"/>
                        <group col="1">
                            <field name="model_id" nolabel="1"/>
                        </group>
                        <footer>
                        <button 
                            name="action_create_action"
                            string="Enable" 
                            class="oe_highlight" 
                            type="object"/>
                        <button
                            name="action_delete_action"
                            string="Disable"
                            class="oe_highlight"
                            type="object"/>
                        </footer>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Tree View for merger model -->
        <record id="base_merge_tree" model="ir.ui.view">
            <field name="name">base.merge.form</field>
            <field name="model">base.merge.model</field>
            <field name="type">tree</field>
            <field name= "arch" type = "xml">
                <tree string="Record merger enabled">
                    <field name="model_id"/>
                    <field name="action_id"/>
                </tree>
            </field>
        </record>

        <!-- and required menu and action stuff to enable it -->
        <act_window
        id="action_base_merge_model"
        name="Record merger"
        res_model="base.merge.model"
        view_type="form"
        view_mode="tree,form"
        limit="50"
    />


        <menuitem 
            id="menu_base_merge_model"
            name="Merge model"
            action="action_base_merge_model"
            sequence="800"
        />

</odoo>
